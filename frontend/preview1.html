<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
  <title>La ObsidianÃ© | Preview</title>

  <!-- Standard favicon -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

<!-- Apple iOS -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

<!-- Android / Chrome -->
<link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

<!-- Microsoft -->
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-150x150.png">

<!-- Theme color for mobile browsers -->
<meta name="theme-color" content="#ffffff">

  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<style>

    :root {
  --navbar-height: 70px;
}

    /* NAVBAR */
.navbar{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:70px;
  background:rgba(75,0,7);
  color:#d0b75b;
  display:flex;
  align-items:center;
  padding:0 60px;
  z-index:1000;
  font-family:'Cormorant Garamond', serif;
}

.logo-group{
  display:flex;
  align-items:center;
  gap:10px;
}

.crown-img{
  height:48px;
}

.label-img{
  height:30px;
}

    .menu {
      list-style: none;
      display: flex;
      gap: 25px;
      margin-left: 580px;

    }
.menu a{
  color:#d0b75b;
  font-size:16px;
  text-decoration:none;
}

.menu a:hover{
  opacity:0.7;
}

.user-icon{
  width:22px;
  height:22px;
  stroke:#d0b75b;
  stroke-width:1.4;
  fill:none;
}
/* SVG ICON */
.user-icon {
  width: 22px;
  height: 22px;
  stroke: currentColor;   /* INHERITS NAVBAR COLOR */
  stroke-width: 1.4;
  fill: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
}




       .logout-btn {
  background: none;
  border: none;
  cursor: pointer;
}

.logout-icon {
  width: 22px;
  height: 22px;
  stroke: #d0b75b ;
  stroke-width: 1.6;
  fill: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.logout-btn:hover .logout-icon {
  color:  #d0b75b ;
  opacity: 0.6;
  transform: translateX(2px);
}

.toggle-bar.overlay{
  position:absolute;
  bottom:22px;                 /* distance from image bottom */
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:18px;
  z-index:20;
}
html, body{
  height:100%;
  overflow:hidden;
}


.toggle-btn{
  background:rgba(75,0,7);;  
 padding:10px 22px;
  border-radius:25px;
  color:#fff;
  font-size:13px;
  font-family:'Poppins', sans-serif;
  font-weight:400;
  border:2px solid transparent;
  cursor:pointer;

}
.toggle-btn.active{
  border:3px solid #d0b75b; /* GOLD BORDER */
}

.toggle-btn:hover{
  opacity:0.85;
}



.preview-wrapper{
  max-width:1200px;
  margin:120px auto 60px;
  padding:0 20px;
  text-align:center;
}

/* ===== CONTAINER ===== */
.before-after-container{
  position:relative;
  width:100%;
  max-width:1100px;
  height:520px;
  margin:90px auto;
  border-radius:24px;
  overflow:hidden;

  background:rgba(255,255,255,0.6);
  backdrop-filter:blur(14px);

  box-shadow:
    0 30px 60px rgba(0,0,0,0.12),
    inset 0 0 0 1px rgba(255,255,255,0.4);
}

/* ===== IMAGES ===== */
.before-img,
.after-img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}

.after-img{
  z-index:2;
}

.before-img{
  z-index:1;
}

/* ===== SLIDER ===== */
.slider{
  position:absolute;
  top:0;
  left:50%;
  width:3px;
  height:100%;
  background:rgba(255,255,255,0.9);
  cursor:ew-resize;
  z-index:5;
}

.slider::before{
  content:'â‡†';
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:42px;
  height:42px;
  background:rgba(75,0,7);;
  color:#fff;
  font-size:14px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  border:3px solid #fff;
  box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

/* ===== LABELS ===== */
.labels{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  z-index:10;
  pointer-events:none;
}

.label{
  position:absolute;
  top:24px;
  padding:10px 22px;
  font-size:13px;
  font-weight:600;
  background:rgba(75,0,7);
  color:#fff;
  border-radius:40px;
  white-space:nowrap;
}

.label.before{
  left:24px;
}

.label.after{
  right:24px;
  background:rgba(75,0,7);;
}


/* ðŸš« Prevent image selection & drag highlight */
.before-after-container,
.before-after-container * {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.before-img,
.after-img {
  -webkit-user-drag: none;
  user-drag: none;
  pointer-events: none; /* ðŸ”¥ important */
}

/* ðŸš« Remove mobile tap highlight */
* {
  -webkit-tap-highlight-color: transparent;
}

</style>
</head>
<body>
<script src="auth.js"></script>

<script>

  // ðŸ”„ Navbar auth state
  document.addEventListener("DOMContentLoaded", setupNavbarAuth);
</script>

  <nav class="navbar">
    <a href="home.html">
  <div class="logo-group">
    <img class="crown-img" src="crown.png" alt="Crown Logo">
    <img class="label-img" src="label.png" alt="La ObsidianÃ©">
  </div>
</a>
  <ul class="menu">
      <li><a href="#">AI INSIGHTS </a></li>
      <li><a href="design1.html">DESIGN</a></li>
      <li><a href="about.html">ABOUT</a></li>
      <li><a href="contact.html">CONTACT</a></li>
   <li id="signupNav"><a href="signup.html">SIGN UP</a></li>

<li class="user-dashboard" id="dashboardNav" style="display:none">
  <a href="dashboard.html" aria-label="User Dashboard">
    <svg class="user-icon" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="8" r="4"/>
      <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
    </svg>
  </a>
</li>

<li id="logoutNav" style="display:none">
  <button class="logout-btn" id="logoutBtn">
    <svg class="logout-icon" viewBox="0 0 24 24" fill="none">
      <path d="M16 17l5-5-5-5"/>
      <path d="M21 12H9"/>
      <path d="M13 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h8"/>
    </svg>
  </button>
</li>


    </ul>
  </ul>
</nav>
<div class="before-after-container" id="container">

  <div class="labels" id="labels">
    <span class="label before">Before</span>
    <span class="label after">After</span>
  </div>

  <img class="before-img" id="beforeImg">
  <img class="after-img" id="afterImg">

  <div class="slider" id="slider"></div>

  <!-- ðŸ”¥ TOGGLE BUTTONS ON IMAGE -->
  <div class="toggle-bar overlay">
    <button id="comparisonBtn" class="toggle-btn active">Comparison</button>
    <button id="designBtn" class="toggle-btn">Designed Image</button>
  </div>

</div>



  
<script>
const comparisonBtn = document.getElementById("comparisonBtn");
const designBtn = document.getElementById("designBtn");

const beforeImg = document.getElementById("beforeImg");
const afterImg = document.getElementById("afterImg");
const slider = document.getElementById("slider");
const labels = document.getElementById("labels");
const container = document.getElementById("container");

/* ===== DEFAULT STATE ===== */
slider.style.left = "50%";
afterImg.style.clipPath = "inset(0 0 0 50%)";

/* ===== BUTTON TOGGLES ===== */
comparisonBtn.onclick = () => {
  comparisonBtn.classList.add("active");
  designBtn.classList.remove("active");

  beforeImg.style.display = "block";
  slider.style.display = "block";
  labels.style.display = "block";
  afterImg.style.clipPath = "inset(0 0 0 50%)";
};

designBtn.onclick = () => {
  designBtn.classList.add("active");
  comparisonBtn.classList.remove("active");

  beforeImg.style.display = "none";
  slider.style.display = "none";
  labels.style.display = "none";
  afterImg.style.clipPath = "none";
};

// ðŸ”¥ LOAD BEFORE / AFTER IMAGES FROM GENERATOR PAGE
// ðŸ”¥ BEFORE = uploaded image from Generator page
const beforeSrc = sessionStorage.getItem("preview_before");

// ðŸ”¥ AFTER = static redesigned sample image
const afterSrc = "aa5.jpg"; // ðŸ‘ˆ put your static image path here

if (!beforeSrc) {
  alert("Preview data missing. Please generate again.");
  window.location.href = "AI.html";
}

beforeImg.src = beforeSrc;
afterImg.src  = afterSrc;


/* ===== SLIDER ===== */
let dragging = false;

slider.addEventListener("mousedown", () => dragging = true);
window.addEventListener("mouseup", () => dragging = false);

window.addEventListener("mousemove", (e) => {
  if (!dragging) return;

  const rect = container.getBoundingClientRect();
  let x = e.clientX - rect.left;
  x = Math.max(0, Math.min(x, rect.width));

  const percent = (x / rect.width) * 100;
  slider.style.left = percent + "%";
  afterImg.style.clipPath = `inset(0 0 0 ${percent}%)`;
});
</script>

</body>
</html>