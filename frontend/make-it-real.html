<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
  <title>La ObsidianÃ© | Make It Real</title>

  <!-- Standard favicon -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

<!-- Apple iOS -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

<!-- Android / Chrome -->
<link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

<!-- Microsoft -->
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-150x150.png">

<!-- Theme color for mobile browsers -->
<meta name="theme-color" content="#ffffff">

  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<style>
body{
  margin:0;
  background:linear-gradient(180deg,#faf9f7,#f2f1ee);
  font-family:'Poppins',sans-serif;
  color:#222;
}





/* NAVBAR */
.navbar{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:70px;
  background:rgba(75,0,7);
  color:#d0b75b;
  display:flex;
  align-items:center;
  padding:0 60px;
  z-index:1000;
  font-family:'Cormorant Garamond', serif;
}

.logo-group{
  display:flex;
  align-items:center;
  gap:10px;
}

.crown-img{
  height:48px;
}

.label-img{
  height:30px;
}

    .menu {
      list-style: none;
      display: flex;
      gap: 25px;
      margin-left: 580px;

    }
.menu a{
  color:#d0b75b;
  font-size:16px;
  text-decoration:none;
}

.menu a:hover{
  opacity:0.7;
}

.user-icon{
  width:22px;
  height:22px;
  stroke:#d0b75b;
  stroke-width:1.4;
  fill:none;
}
/* SVG ICON */
.user-icon {
  width: 22px;
  height: 22px;
  stroke: currentColor;   /* INHERITS NAVBAR COLOR */
  stroke-width: 1.4;
  fill: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
}


       .logout-btn {
  background: none;
  border: none;
  cursor: pointer;
}

.logout-icon {
  width: 22px;
  height: 22px;
  stroke: #d0b75b;
  stroke-width: 1.6;
  fill: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.logout-btn:hover .logout-icon {
  color:  #d0b75b ;
  transform: translateX(2px);
}


/* ===== WRAPPER ===== */
.real-wrapper{
  max-width:1200px;
  margin:90px auto 90px;
  padding:0 20px;
}

/* ===== HEADER ===== */
.real-title{
  text-align:center;
  font-family:'Cormorant Garamond', serif;
  font-size:36px;
  color:rgba(75,0,7);
}
.real-sub{
  text-align:center;
  font-size:15px;
  color:#777;
  margin:8px 0 10px;
}

/* ===== TOP GRID ===== */
.top-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:50px;
  align-items:center;
}

/* ===== DESIGN PREVIEW ===== */
.design-preview{
  background:rgba(255,255,255,0.6);
  backdrop-filter:blur(14px);
  border-radius:24px;
  padding:16px;
  box-shadow:0 30px 60px rgba(0,0,0,0.12);
}
.design-preview img{
  width:100%;
  height:390px;          /* ðŸ‘ˆ controls image height */
  object-fit:cover;
  border-radius:18px;
}

.design-meta{
  margin-top:14px;
}
.design-meta h4{
  margin:0;
  font-family:'Cormorant Garamond', serif;
  font-size:20px;
}
.design-meta p{
  font-size:13px;
  color:#666;
}

/* ===== FORM ===== */
.form-card{
  background:rgba(255,255,255,0.6);
  backdrop-filter:blur(14px);
  border-radius:24px;
  padding:34px;
  box-shadow:0 30px 60px rgba(0,0,0,0.12);
}
.form-group{
  margin-bottom:22px;
}
.form-group label{
  font-size:13px;
  color:#555;
}
.form-group input,
.form-group select{
  width:100%;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,0.15);
  font-size:14px;
}

/* ===== CTA ===== */
.find-btn{
  width:100%;
  padding:15px;
  border:none;
  border-radius:40px;
  background:#000;
  color:#fff;
  font-size:14px;
  cursor:pointer;
  transition:.3s;
}
.find-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 40px rgba(0,0,0,0.25);
}

/* ===== RESULTS ===== */
.results{
  margin-top:70px;
  display:none;
}
.results-title{
  font-family:'Cormorant Garamond', serif;
  font-size:28px;
  margin-bottom:24px;
}

/* ===== DESIGNER CARDS ===== */
.designer-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:30px;
}
.designer-card{
  background:rgba(255,255,255,0.7);
  border-radius:22px;
  padding:24px;
  box-shadow:0 20px 40px rgba(0,0,0,0.12);
}
.designer-card h4{
  margin:0;
  font-size:18px;
}
.tags{
  font-size:12px;
  color:#555;
  margin:6px 0 10px;
}
.cost{
  font-size:14px;
  margin-bottom:8px;
}
.cost strong{
  color:rgba(75,0,7);
}
.meta{
  font-size:12px;
  color:#666;
  margin-bottom:14px;
}
.designer-card button{
  padding:10px 22px;
  border:none;
  border-radius:24px;
  background:rgba(75,0,7);
  color:#fff;
  font-size:13px;
  cursor:pointer;
}
.designer-card button:hover{ opacity:.85; }

.know-more{
  margin-top:12px;
  font-size:12px;
  color:#555;
  cursor:pointer;
  display:inline-block;
  text-decoration: none;
}
.know-more:hover{
  opacity:.6;
  transform:translateX(3px);
}

/* ===== CONFIRM ===== */
.confirm{
  margin-top:30px;
  font-size:14px;
  color:#4b0007;
  display:none;
}
</style>
</head>

<body>
<script src="auth.js"></script>
<script src="designers.data.js"></script> <!-- ðŸ‘ˆ MUST be before logic -->
<script src="make-it-real.js"></script> 
<script>

  // ðŸ”„ Navbar auth state
  document.addEventListener("DOMContentLoaded", setupNavbarAuth);
</script>


<nav class="navbar">
    <a href="home.html">
  <div class="logo-group">
    <img class="crown-img" src="crown.png" alt="Crown Logo">
    <img class="label-img" src="label.png" alt="La ObsidianÃ©">
  </div>
</a>
  <ul class="menu">
      <li><a href="#">AI INSIGHTS </a></li>
      <li><a href="design1.html">DESIGN</a></li>
      <li><a href="about.html">ABOUT</a></li>
      <li><a href="contact.html">CONTACT</a></li>
      <li id="signupNav"><a href="signup.html">SIGN UP</a></li>

<li class="user-dashboard" id="dashboardNav" style="display:none">
  <a href="dashboard.html" aria-label="User Dashboard">
    <svg class="user-icon" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="8" r="4"/>
      <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
    </svg>
  </a>
</li>

<li id="logoutNav" style="display:none">
  <button class="logout-btn" id="logoutBtn">
    <svg class="logout-icon" viewBox="0 0 24 24" fill="none">
      <path d="M16 17l5-5-5-5"/>
      <path d="M21 12H9"/>
      <path d="M13 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h8"/>
    </svg>
  </button>
</li>


    </ul>
  </ul>
</nav>


    <!-- DESIGN -->
    <div class="real-wrapper">

  <div class="real-title">Bring Your Design to Life</div>
  <div class="real-sub">We help you move from visualization to real-world execution</div>

  <div class="top-grid">

    <!-- DESIGN -->
    <div class="design-preview">
<img id="finalDesign" alt="Final Design Preview">
      <div class="design-meta">
        <h4>Your Approved Design</h4>
      </div>
    </div>

    <!-- FORM -->
    <div class="form-card">
      <div class="form-group">
        <label>Your City</label>
        <input type="text" placeholder="Mumbai" id="cityInput">
      </div>

      <div class="form-group">
        <label>Budget Range</label>
        <select id="budgetInput">
    <option value="under5">Under â‚¹5 Lakhs</option>
    <option value="5to10">â‚¹5 â€“ 10 Lakhs</option>
    <option value="10to20">â‚¹10 â€“ 20 Lakhs</option>
    <option value="luxury">Luxury / No Limit</option>
  </select>
      </div>

      <div class="form-group">
        <label>Space Type</label>
        <select id="spaceInput">
    <option value="1bhk">1 BHK</option>
    <option value="2bhk">2 BHK</option>
    <option value="villa">Villa</option>
    <option value="studio">Studio</option>
  </select>
      </div>

      <div class="form-group">
        <label>Timeline</label>
        <select id="timelineInput">
    <option value="flexible">Flexible</option>
    <option value="1-2">1â€“2 Months</option>
    <option value="3-6">3â€“6 Months</option>
  </select>
      </div>

      <button class="find-btn" onclick="showDesigners()">Find Designers</button>
    </div>

  </div> <!-- âœ… closes top-grid -->

  <!-- DESIGNERS -->
  <div class="results" id="results">
    <div class="results-title">Designers Matched for You</div>

    <div class="designer-grid">

      <div class="designer-card">
        <h4>Studio Noir</h4>
        <div class="tags">Luxury â€¢ Modern</div>
        <div class="cost">Estimated Cost: <strong>â‚¹9â€“12 Lakhs</strong></div>
        <div class="meta">Timeline: 3â€“4 months<br>Experience: 8+ years</div>
        <button onclick="confirmShare()">Share My Design</button>
        <a class="know-more" href="https://www.studionoir.com.au/" target="_blank" rel="noopener noreferrer">
  Know more â†’
</a>
      </div>

      <div class="designer-card">
        <h4>Bonito Designs</h4>
        <div class="tags">Minimal â€¢ Budget-friendly</div>
        <div class="cost">Estimated Cost: <strong>â‚¹6â€“8 Lakhs</strong></div>
        <div class="meta">Timeline: 2â€“3 months<br>Experience: 6 years</div>
        <button onclick="confirmShare()">Share My Design</button>
<a class="know-more" href="https://bonito.in/mumbai/mumbai-full-home-interior-designers?utm_source=google&utm_medium=cpl&utm_campaign=Search-Home-Plan-Mumbai-Sep25&utm_term=house-interior&gad_source=1&gad_campaignid=22964830554&gbraid=0AAAAA-fNSG5GjKpL9t5oAES4Fht0jRq8B&gclid=CjwKCAiA64LLBhBhEiwA-Pxgu3aPvZcElaYws4-Y8rCJipYrVLZXogFQuUxhpesfhSBAfKy-qjBnThoCV4wQAvD_BwE" target="_blank" rel="noopener noreferrer">
  Know more â†’
</a>
      </div>

      <div class="designer-card">
        <h4>Studia 54</h4>
        <div class="tags">Premium â€¢ Contemporary</div>
        <div class="cost">Estimated Cost: <strong>â‚¹11â€“15 Lakhs</strong></div>
        <div class="meta">Timeline: 4â€“5 months<br>Experience: 10 years</div>
        <button onclick="confirmShare()">Share My Design</button>
        <a class="know-more" href="https://studia-54.com/en/portfolio/residential-interiors" target="_blank" rel="noopener noreferrer">
  Know more â†’
</a>      </div>

    </div>

    <div class="confirm" id="confirmMsg">
      âœ” Your design has been shared. The designer will contact you shortly.
    </div>
  </div>

</div>

<script>
const params = new URLSearchParams(window.location.search);
async function showDesigners() {
  const city = document.getElementById("cityInput").value;
  const budgetRange = document.getElementById("budgetInput").value;
  const spaceType = document.getElementById("spaceInput").value;
  const timeline = document.getElementById("timelineInput").value;
const budgetMap = {
  under5: "UNDER_5",
  "5to10": "FIVE_TO_TEN",
  "10to20": "TEN_TO_TWENTY",
  luxury: "LUXURY"
};

const spaceMap = {
  "1bhk": "ONE_BHK",
  "2bhk": "TWO_BHK",
  studio: "STUDIO",
  villa: "VILLA"
};

const timelineMap = {
  flexible: "FLEXIBLE",
  "1-2": "ONE_TO_TWO",
  "3-6": "THREE_TO_SIX"
};

const token = sessionStorage.getItem("token");

  if (!token) {
    alert("Please login first");
    return;
  }

  try {
    const res = await fetch("http://localhost:5000/api/user-needs", {

      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer " + token
      },
body: JSON.stringify({
  city,
  budgetRange: budgetMap[budgetRange],
  spaceType: spaceMap[spaceType],
  timeline: timelineMap[timeline]
})

    });

    if (!res.ok) {
      throw new Error("Failed to save user needs");
    }

    // AFTER saving â†’ show designers
    renderDesigners(budgetRange, spaceType, timeline);

  } catch (err) {
    console.error(err);
    alert("Something went wrong");
  }
}

function renderDesigners(budget, space, timeline) {
  const grid = document.querySelector(".designer-grid");
  grid.innerHTML = "";

  // STRICT: budget must match
 let strictMatches = designers.filter(d =>
  d.budget === budget &&
  (timeline === "flexible" || d.timeline === timeline)
);

  // Prefer space match
  let preferred = strictMatches.filter(d =>
    d.spaces.includes(space)
  );

  let finalResults = [...preferred];

  // Fill remaining from same budget + timeline
  if (finalResults.length < 3) {
    const fillers = strictMatches.filter(d =>
      !finalResults.includes(d)
    );
    finalResults.push(...fillers);
  }

  // GUARANTEE 3
  finalResults = finalResults.slice(0, 3);

  // Render
  finalResults.forEach(d => {
    grid.innerHTML += `
      <div class="designer-card">
        <h4>${d.name}</h4>
        <div class="tags">${d.style}</div>
        <div class="cost">Estimated Cost: <strong>${d.cost}</strong></div>
        <div class="meta">
          Timeline: ${d.timeline}<br>
          Experience: ${d.experience}
        </div>
        <button onclick="confirmShare()">Share My Design</button>
        <a class="know-more" href="${d.link}" target="_blank">Know more â†’</a>
      </div>
    `;
  });

  document.getElementById("results").style.display = "block";
  document.getElementById("results").scrollIntoView({ behavior: "smooth" });
}





function confirmShare(){
  document.getElementById("confirmMsg").style.display = "block";
  document.querySelectorAll(".designer-card button").forEach(btn=>{
    btn.disabled = true;
    btn.style.opacity = "0.5";
    btn.style.cursor = "default";
  });
}
function openDesigner(page){
  window.location.href = page;
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const finalImg = sessionStorage.getItem("preview_after");

  if (finalImg) {
    document.getElementById("finalDesign").src = finalImg;
  } else {
    // fallback (optional)
    document.getElementById("finalDesign").src = "grid5.jpg";
  }
});
</script>



</body>
</html>
