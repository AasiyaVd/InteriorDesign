<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>La Obsidiané | Design Studio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Poppins',sans-serif;background:#e9e7e3;margin-top:70px}

/* NAVBAR */
.navbar{
  position:fixed;top:0;left:0;width:100%;height:70px;
  background:rgba(75,0,7);color:#d0b75b;
  display:flex;align-items:center;padding:0 60px;z-index:1000;
  font-family:'Cormorant Garamond',serif;
}
.logo-group{display:flex;gap:10px}
.crown-img{height:48px}
.label-img{height:30px}

.menu{list-style:none;display:flex;gap:22px;margin-left:auto}
.menu a{color:#d0b75b;font-size:16px;text-decoration:none}
.menu a:hover{opacity:.7}

.user-icon{width:22px;height:22px;stroke:#d0b75b;stroke-width:1.4;fill:none}

/* APP */
.app{display:flex;height:calc(100vh - 70px)}

/* SIDEBAR */
.sidebar{
  width:64px;background:#f5f4f2;padding-top:20px;position:relative;
}
.side-btn{
  width:100%;padding:18px;border:none;background:none;
  cursor:pointer;color:rgba(75,0,7);position:relative;
}
.side-btn i{font-size:18px}
.side-btn:hover{background:#e4dede}

.side-btn::after{
  content:attr(data-tooltip);
  position:absolute;left:70px;top:50%;
  transform:translateY(-50%);
  background:#111;color:#fff;font-size:12px;
  padding:6px 10px;border-radius:6px;
  opacity:0;white-space:nowrap;pointer-events:none;
}
.side-btn:hover::after{opacity:1}

.sidebar-bottom{
  position:absolute;bottom:10px;width:100%;
}
.sidebar-bottom .fa-bookmark{color:#6b0008;transition:.3s}
.sidebar-bottom button:hover .fa-bookmark{color:#c0a062}
.sidebar-bottom .saved .fa-bookmark{color:#c0a062}

/* TOOL PANEL */
.tool-panel{
  width:0;
  height: calc(100vh - 70px); /* navbar height */
  background:#f5f4f2;
overflow-x: hidden;   /* keep width animation clean */
overflow-y: visible; /* allow child scrollbar */
  transition:.35s;
  border-right:1px solid rgba(0,0,0,.08);

  /* ✅ CRITICAL */
  display: flex;
  flex-direction: column;
}

.tool-panel.active{width:260px}

.tool-panel-header{
  padding:18px;font-size:14px;font-weight:500;
  border-bottom:1px solid rgba(0,0,0,.1);
  display:flex;align-items:center;gap:12px;
}
.panel-back{background:none;border:none;cursor:pointer;color:rgba(75,0,7)}
.panel-back:hover{opacity:.7}

.tool-panel-content{
  padding:16px;display:grid;gap:14px;
  max-height:calc(100vh - 140px);overflow-y:auto;
}
.tool-panel-content img{width:100%;border-radius:10px;cursor:pointer}

/* MAIN */
.main{flex:1;padding:24px;display:flex;justify-content:center;align-items:center}
.canvas{
  width:100%;max-width:1100px;height:100%;
  background:#f5f4f2;border-radius:20px;
  position:relative;display:flex;justify-content:center;align-items:center
}
.empty-state{
  text-align:center;border:2px dashed #aaa;
  padding:60px;border-radius:18px
}
.empty-state button{
  margin-top:18px;padding:12px 26px;border:none;
  border-radius:8px;background:#6b1c1c;color:#fff;cursor:pointer
}
#room{
  position:absolute;inset:0;width:100%;height:100%;
  object-fit:cover;border-radius:20px
}
.category-item{
  padding:12px;border-radius:8px;background:#e9e7e3;
  cursor:pointer;font-size:14px
}
.category-item:hover{background:#ddd}
.furniture-thumb{width:100%;border-radius:10px}
</style>
</head>

<body>

<nav class="navbar">
  <div class="logo-group">
    <img class="crown-img" src="crown.png">
    <img class="label-img" src="label.png">
  </div>
  <ul class="menu">
    <li><a href="home.html"><i class="fa-solid fa-arrow-left"></i></a></li>
    <li><a href="#" onclick="undo()"><i class="fa-solid fa-rotate-left"></i></a></li>
    <li><a href="#" onclick="deleteSelected()"><i class="fa-regular fa-trash-can"></i></a></li>
    <li><a href="#" onclick="resetCanvas()"><i class="fa-solid fa-arrow-rotate-right"></i></a></li>
    <li><a href="#" onclick="shareDesign()"><i class="fa-solid fa-share-nodes"></i></a></li>
    <li>
      <a href="dashboard.html">
        <svg class="user-icon" viewBox="0 0 24 24">
          <circle cx="12" cy="8" r="4"></circle>
          <path d="M4 20c0-4 4-6 8-6s8 2 8 6"></path>
        </svg>
      </a>
    </li>
  </ul>
</nav>

<div class="app">

<div class="sidebar">
  <button class="side-btn" data-tooltip="Upload Image" onclick="uploadRoom()">
    <i class="fa-solid fa-upload"></i>
  </button>

  <button class="side-btn" data-tooltip="Templates" onclick="openPanel('Templates')">
    <i class="fa-regular fa-image"></i>
  </button>

  <button class="side-btn" data-tooltip="Furniture" onclick="openFurnitureCategories()">
    <i class="fa-solid fa-couch"></i>
  </button>

  <button class="side-btn" data-tooltip="Decor" onclick="openDecorCategories()">
    <i class="fa-solid fa-leaf"></i>
  </button>

  <button class="side-btn" data-tooltip="Wall Color" onclick="openPanel('wall')">
    <i class="fa-solid fa-paint-roller"></i>
  </button>

  <div class="sidebar-bottom">
    <button class="side-btn" data-tooltip="Save Design" onclick="saveDesign(this)">
      <i class="fa-regular fa-bookmark"></i>
    </button>
    <button class="side-btn" data-tooltip="Favourite">
      <i class="fa-regular fa-heart"></i>
    </button>
  </div>
</div>

<div class="tool-panel" id="toolPanel">
  <div class="tool-panel-header">
    <button class="panel-back" onclick="panelBack()">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    <span id="panelTitle"></span>
  </div>
  <div class="tool-panel-content" id="panelContent"></div>
</div>

<div class="main">
  <div class="canvas" id="canvas">
    <div class="empty-state">
      <h3>Upload your room image</h3>
      <p>Start designing with luxury precision</p>
      <button onclick="uploadRoom()">Upload Image</button>
    </div>
  </div>
</div>

</div>

<script>
const furnitureLibrary={
  sofa:[
    {id:"sofa1",src:"s1.png"},
    {id:"sofa2",src:"s2.png"},
    {id:"sofa3",src:"s3.png"},
    {id:"sofa4",src:"s4.png"},
    {id:"sofa5",src:"s5.png"},
    {id:"sofa6",src:"s6.png"},
    {id:"sofa7",src:"s7.png"},
        {id:"sofa8",src:"s8.png"},



  ],
  chair:[
    {id:"chair1",src:"ch1.png"},
    {id:"chair2",src:"ch2.png"},
    {id:"chair3",src:"ch3.png"},
    {id:"chair4",src:"ch4.png"},
    {id:"chair5",src:"ch5.png"},
    {id:"chair6",src:"ch6.png"},
    {id:"chair7",src:"ch7.png"},
   {id:"chair8",src:"ch8.png"}
],
  table:[{id:"table1",src:"tb1.png"}],
  bed:[
    {id:"bed1",src:"Bed1.png"},
    {id:"bed2",src:"Bed2.png"},
    {id:"bed3",src:"Bed3.png"},
    {id:"bed4",src:"Bed4.png"},
    {id:"bed5",src:"Bed5.png"},
    {id:"bed6",src:"Bed6.png"},
    {id:"bed7",src:"Bed7.png"},
    {id:"bed8",src:"Bed8.png"}

  ]
};

const decorLibrary = {
  plants: [
    { id: "plant1", src: "p1.png" },
    { id: "plant2", src: "p2.png" },
    { id: "plant3", src: "p3.png" }
  ],
  lamps: [
    { id: "lamp1", src: "l1.png" },
    { id: "lamp2", src: "l2.png" }
  ],
  wallart: [
    { id: "art1", src: "w1.png" },
    { id: "art2", src: "w2.png" }
  ],
  rugs: [
    { id: "rug1", src: "r1.png" },
    { id: "rug2", src: "r2.png" }
  ]
};


const canvas=document.getElementById("canvas");
const panel=document.getElementById("toolPanel");
const panelTitle=document.getElementById("panelTitle");
const panelContent=document.getElementById("panelContent");

let panelState="root"; 
// root | templates | decor | wall | furniture-categories | furniture-items

function uploadRoom(){
  canvas.innerHTML="";
  const i=document.createElement("input");
  i.type="file";i.accept="image/*";
  i.onchange=e=>{
    const img=document.createElement("img");
    img.id="room";img.src=URL.createObjectURL(e.target.files[0]);
    canvas.appendChild(img);
  };
  i.click();
}

function loadSample(src){
  canvas.innerHTML="";
  const img=document.createElement("img");
  img.id="room";img.src=src;
  canvas.appendChild(img);
}

function openPanel(type){
  panel.classList.add("active");
  panelContent.innerHTML="";
  panelTitle.innerText=type;

  if(type==="Templates"){
    panelState="templates";
    panelContent.innerHTML=`
      <img src="e7.jpg" onclick="loadSample(this.src)">
      <img src="e9.jpg" onclick="loadSample(this.src)">
      <img src="e6.jpg" onclick="loadSample(this.src)">
            <img src="e4.jpg" onclick="loadSample(this.src)">
      <img src="e3.jpg" onclick="loadSample(this.src)">
      <img src="e5.jpg" onclick="loadSample(this.src)">
      <img src="e2.jpg" onclick="loadSample(this.src)">
      <img src="e1.jpg" onclick="loadSample(this.src)">

    `;
  }

  if(type==="decor"){
    panelState="decor";
    panelContent.innerHTML=`<p>Decor items here</p>`;
  }

  if(type==="wall"){
    panelState="wall";
    panelContent.innerHTML=`<p>Wall colors here</p>`;
  }
}

function openFurnitureCategories(){
  panel.classList.add("active");
  panelState="furniture-categories";
  panelTitle.innerText="Furniture";
  panelContent.innerHTML=`
    <div class="category-item" onclick="openFurnitureCategory('sofa')">Sofa</div>

    <div class="category-item" onclick="openFurnitureCategory('chair')">Chair</div>
    <div class="category-item" onclick="openFurnitureCategory('table1')">Table</div>
    <div class="category-item" onclick="openFurnitureCategory('bed')">Bed</div>

  `;
}

function openDecorCategories(){
  panel.classList.add("active");
  panelState = "decor-categories";
  panelTitle.innerText = "Decor";

  panelContent.innerHTML = `
    <div class="category-item" onclick="openDecorCategory('plants')">Plants</div>
    <div class="category-item" onclick="openDecorCategory('lamps')">Lamps</div>
    <div class="category-item" onclick="openDecorCategory('wallart')">Wall Art</div>
    <div class="category-item" onclick="openDecorCategory('rugs')">Rugs</div>
  `;
}


function openFurnitureCategory(type){
  panelState="furniture-items";
  panelTitle.innerText=type.toUpperCase();
  panelContent.innerHTML=furnitureLibrary[type]
    .map(i=>`<img src="${i.src}" class="furniture-thumb">`).join("");
}

function openDecorCategory(type){
  panelState = "decor-items";
  panelTitle.innerText = type.toUpperCase();

  panelContent.innerHTML = decorLibrary[type]
    .map(i => `<img src="${i.src}" class="furniture-thumb">`)
    .join("");
}


function panelBack(){
  if(panelState==="furniture-items"){
    openFurnitureCategories();
    return;
  }
  if(panelState === "decor-items"){
  openDecorCategories();
  return;
}

  if(
    panelState==="furniture-categories" ||
    panelState==="templates" ||
    panelState==="decor-categories" ||
    panelState==="wall"
  ){
    panel.classList.remove("active");
    panelContent.innerHTML="";
    panelTitle.innerText="";
    panelState="root";
  }
}

function saveDesign(btn){btn.classList.toggle("saved")}
function undo(){}
function deleteSelected(){}
function resetCanvas(){
  canvas.innerHTML=`<div class="empty-state"><h3>Upload your room image</h3><p>Start designing with luxury precision</p><button onclick="uploadRoom()">Upload Image</button></div>`;
}
function shareDesign(){navigator.clipboard.writeText(location.href)}
</script>

</body>
</html>
